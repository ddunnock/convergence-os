

> @convergence/ui@0.1.0 test /Users/dunnock/projects/convergence-os/packages/ui
> vitest run

[?25l
[1m[46m RUN [49m[22m [36mv3.2.4 [39m[90m/Users/dunnock/projects/convergence-os/packages/ui[39m

[?2026h
[1m[33m â¯ [39m[22msrc/components/ui/button.test.tsx[2m [queued][22m

[2m Test Files [22m[1m[32m0 passed[39m[22m[90m (6)[39m
[2m      Tests [22m[1m[32m0 passed[39m[22m[90m (0)[39m
[2m   Start at [22m18:13:35
[2m   Duration [22m603ms
[?2026l[?2026h[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K
[1m[33m â¯ [39m[22msrc/__tests__/integration/theme-integration.test.tsx[2m [queued][22m
[1m[33m â¯ [39m[22msrc/components/theme-switcher.test.tsx[2m [queued][22m
[1m[33m â¯ [39m[22msrc/components/ui/button.test.tsx[2m [queued][22m
[1m[33m â¯ [39m[22msrc/components/ui/card.test.tsx[2m [queued][22m
[1m[33m â¯ [39m[22msrc/components/ui/dialog.test.tsx[2m [queued][22m
[1m[33m â¯ [39m[22msrc/providers/theme-provider.test.tsx[2m [queued][22m

[2m Test Files [22m[1m[32m0 passed[39m[22m[90m (6)[39m
[2m      Tests [22m[1m[32m0 passed[39m[22m[90m (0)[39m
[2m   Start at [22m18:13:35
[2m   Duration [22m922ms
[?2026l[?2026h[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K(node:15923) Warning: `--localstorage-file` was provided without a valid path
(Use `node --trace-warnings ...` to show where the warning was created)
(node:15922) Warning: `--localstorage-file` was provided without a valid path
(Use `node --trace-warnings ...` to show where the warning was created)
(node:15924) Warning: `--localstorage-file` was provided without a valid path
(Use `node --trace-warnings ...` to show where the warning was created)

[1m[33m â¯ [39m[22msrc/__tests__/integration/theme-integration.test.tsx[2m 0/12[22m
[1m[33m â¯ [39m[22msrc/components/theme-switcher.test.tsx[2m 0/26[22m
[1m[33m â¯ [39m[22msrc/components/ui/button.test.tsx[2m [queued][22m
[1m[33m â¯ [39m[22msrc/components/ui/card.test.tsx[2m [queued][22m
[1m[33m â¯ [39m[22msrc/components/ui/dialog.test.tsx[2m [queued][22m
[1m[33m â¯ [39m[22msrc/providers/theme-provider.test.tsx[2m 1/30[22m

[2m Test Files [22m[1m[32m0 passed[39m[22m[90m (6)[39m
[2m      Tests [22m[1m[32m1 passed[39m[22m[90m (68)[39m
[2m   Start at [22m18:13:35
[2m   Duration [22m1.14s
[?2026l[?2026h[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K
[1m[33m â¯ [39m[22msrc/__tests__/integration/theme-integration.test.tsx[2m 1/12[22m
[1m[33m â¯ [39m[22msrc/components/theme-switcher.test.tsx[2m 7/26[22m
[1m[33m â¯ [39m[22msrc/components/ui/button.test.tsx[2m [queued][22m
[1m[33m â¯ [39m[22msrc/components/ui/card.test.tsx[2m [queued][22m
[1m[33m â¯ [39m[22msrc/components/ui/dialog.test.tsx[2m [queued][22m
[1m[33m â¯ [39m[22msrc/providers/theme-provider.test.tsx[2m 8/30[22m

[2m Test Files [22m[1m[32m0 passed[39m[22m[90m (6)[39m
[2m      Tests [22m[1m[32m16 passed[39m[22m[90m (68)[39m
[2m   Start at [22m18:13:35
[2m   Duration [22m1.24s
[?2026l[?2026h[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K
[1m[33m â¯ [39m[22msrc/__tests__/integration/theme-integration.test.tsx[2m 6/12[22m
[1m[33m â¯ [39m[22msrc/components/theme-switcher.test.tsx[2m 18/26[22m
[1m[33m â¯ [39m[22msrc/components/ui/button.test.tsx[2m [queued][22m
[1m[33m â¯ [39m[22msrc/components/ui/card.test.tsx[2m [queued][22m
[1m[33m â¯ [39m[22msrc/components/ui/dialog.test.tsx[2m [queued][22m
[1m[33m â¯ [39m[22msrc/providers/theme-provider.test.tsx[2m 8/30[22m

[2m Test Files [22m[1m[32m0 passed[39m[22m[90m (6)[39m
[2m      Tests [22m[1m[32m32 passed[39m[22m[90m (68)[39m
[2m   Start at [22m18:13:35
[2m   Duration [22m1.34s
[?2026l[?2026h[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K [32mâœ“[39m src/components/theme-switcher.test.tsx [2m([22m[2m26 tests[22m[2m)[22m[33m 362[2mms[22m[39m

[1m[33m â¯ [39m[22msrc/__tests__/integration/theme-integration.test.tsx[2m 10/12[22m
[1m[33m â¯ [39m[22msrc/components/ui/button.test.tsx[2m [queued][22m
[1m[33m â¯ [39m[22msrc/components/ui/card.test.tsx[2m [queued][22m
[1m[33m â¯ [39m[22msrc/components/ui/dialog.test.tsx[2m [queued][22m
[1m[33m â¯ [39m[22msrc/providers/theme-provider.test.tsx[2m 20/30[22m

[2m Test Files [22m[1m[32m1 passed[39m[22m[90m (6)[39m
[2m      Tests [22m[1m[32m56 passed[39m[22m[90m (68)[39m
[2m   Start at [22m18:13:35
[2m   Duration [22m1.54s
[?2026l[?2026h[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K
[1m[33m â¯ [39m[22msrc/__tests__/integration/theme-integration.test.tsx[2m 12/12[22m
[1m[33m â¯ [39m[22msrc/components/ui/button.test.tsx[2m [queued][22m
[1m[33m â¯ [39m[22msrc/components/ui/card.test.tsx[2m [queued][22m
[1m[33m â¯ [39m[22msrc/components/ui/dialog.test.tsx[2m [queued][22m
[1m[33m â¯ [39m[22msrc/providers/theme-provider.test.tsx[2m 20/30[22m

[2m Test Files [22m[1m[32m1 passed[39m[22m[90m (6)[39m
[2m      Tests [22m[1m[32m58 passed[39m[22m[90m (68)[39m
[2m   Start at [22m18:13:35
[2m   Duration [22m1.75s
[?2026l[?2026h[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K [32mâœ“[39m src/__tests__/integration/theme-integration.test.tsx [2m([22m[2m12 tests[22m[2m)[22m[33m 649[2mms[22m[39m

[1m[33m â¯ [39m[22msrc/components/ui/button.test.tsx[2m [queued][22m
[1m[33m â¯ [39m[22msrc/components/ui/card.test.tsx[2m [queued][22m
[1m[33m â¯ [39m[22msrc/components/ui/dialog.test.tsx[2m [queued][22m
[1m[33m â¯ [39m[22msrc/providers/theme-provider.test.tsx[2m 20/30[22m

[2m Test Files [22m[1m[32m2 passed[39m[22m[90m (6)[39m
[2m      Tests [22m[1m[32m58 passed[39m[22m[90m (68)[39m
[2m   Start at [22m18:13:35
[2m   Duration [22m1.95s
[?2026l[?2026h[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K
[1m[33m â¯ [39m[22msrc/components/ui/button.test.tsx[2m [queued][22m
[1m[33m â¯ [39m[22msrc/components/ui/card.test.tsx[2m [queued][22m
[1m[33m â¯ [39m[22msrc/components/ui/dialog.test.tsx[2m [queued][22m
[1m[33m â¯ [39m[22msrc/providers/theme-provider.test.tsx[2m 21/30[22m

[2m Test Files [22m[1m[32m2 passed[39m[22m[90m (6)[39m
[2m      Tests [22m[1m[32m59 passed[39m[22m[90m (68)[39m
[2m   Start at [22m18:13:35
[2m   Duration [22m2.36s
[?2026l[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K [32mâœ“[39m src/providers/theme-provider.test.tsx [2m([22m[2m30 tests[22m[2m)[22m[33m 1333[2mms[22m[39m
   [33m[2mâœ“[22m[39m ThemeProvider[2m > [22mChaos Tests[2m > [22mhandles rapid theme switching (100+ times) [33m 885[2mms[22m[39m

[31mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[39m[1m[41m Failed Suites 3 [49m[22m[31mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[39m

[41m[1m FAIL [22m[49m src/components/ui/button.test.tsx[2m [ src/components/ui/button.test.tsx ][22m
[31m[1mError[22m: Failed to resolve import "@/lib/utils" from "src/components/ui/button.tsx". Does the file exist?[39m
  Plugin: [35mvite:import-analysis[39m
  File: [36m/Users/dunnock/projects/convergence-os/packages/ui/src/components/ui/button.tsx[39m:12:19
[33m  3  |  import { Slot } from "@radix-ui/react-slot";
  4  |  import { cva } from "class-variance-authority";
  5  |  import { cn } from "@/lib/utils";
     |                      ^
  6  |  const buttonVariants = cva(
  7  |    "inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disa...[39m
[90m [2mâ¯[22m TransformPluginContext._formatLog ../../node_modules/.pnpm/vite@7.2.4_@types+node@20.19.25_jiti@2.6.1_lightningcss@1.30.2_yaml@2.8.1/node_modules/vite/dist/node/chunks/config.js:[2m29647:43[22m[39m
[90m [2mâ¯[22m TransformPluginContext.error ../../node_modules/.pnpm/vite@7.2.4_@types+node@20.19.25_jiti@2.6.1_lightningcss@1.30.2_yaml@2.8.1/node_modules/vite/dist/node/chunks/config.js:[2m29644:14[22m[39m
[90m [2mâ¯[22m normalizeUrl ../../node_modules/.pnpm/vite@7.2.4_@types+node@20.19.25_jiti@2.6.1_lightningcss@1.30.2_yaml@2.8.1/node_modules/vite/dist/node/chunks/config.js:[2m27767:18[22m[39m
[90m [2mâ¯[22m ../../node_modules/.pnpm/vite@7.2.4_@types+node@20.19.25_jiti@2.6.1_lightningcss@1.30.2_yaml@2.8.1/node_modules/vite/dist/node/chunks/config.js:[2m27825:32[22m[39m
[90m [2mâ¯[22m TransformPluginContext.transform ../../node_modules/.pnpm/vite@7.2.4_@types+node@20.19.25_jiti@2.6.1_lightningcss@1.30.2_yaml@2.8.1/node_modules/vite/dist/node/chunks/config.js:[2m27793:4[22m[39m
[90m [2mâ¯[22m EnvironmentPluginContainer.transform ../../node_modules/.pnpm/vite@7.2.4_@types+node@20.19.25_jiti@2.6.1_lightningcss@1.30.2_yaml@2.8.1/node_modules/vite/dist/node/chunks/config.js:[2m29445:14[22m[39m
[90m [2mâ¯[22m loadAndTransform ../../node_modules/.pnpm/vite@7.2.4_@types+node@20.19.25_jiti@2.6.1_lightningcss@1.30.2_yaml@2.8.1/node_modules/vite/dist/node/chunks/config.js:[2m23316:26[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/3]â¯[22m[39m

[41m[1m FAIL [22m[49m src/components/ui/card.test.tsx[2m [ src/components/ui/card.test.tsx ][22m
[31m[1mError[22m: Failed to resolve import "@/lib/utils" from "src/components/ui/card.tsx". Does the file exist?[39m
  Plugin: [35mvite:import-analysis[39m
  File: [36m/Users/dunnock/projects/convergence-os/packages/ui/src/components/ui/card.tsx[39m:10:19
[33m  1  |  import { jsxDEV } from "react/jsx-dev-runtime";
  2  |  import * as React from "react";
  3  |  import { cn } from "@/lib/utils";
     |                      ^
  4  |  function Card({ className, ...props }) {
  5  |    return /* @__PURE__ */ jsxDEV([39m
[90m [2mâ¯[22m TransformPluginContext._formatLog ../../node_modules/.pnpm/vite@7.2.4_@types+node@20.19.25_jiti@2.6.1_lightningcss@1.30.2_yaml@2.8.1/node_modules/vite/dist/node/chunks/config.js:[2m29647:43[22m[39m
[90m [2mâ¯[22m TransformPluginContext.error ../../node_modules/.pnpm/vite@7.2.4_@types+node@20.19.25_jiti@2.6.1_lightningcss@1.30.2_yaml@2.8.1/node_modules/vite/dist/node/chunks/config.js:[2m29644:14[22m[39m
[90m [2mâ¯[22m normalizeUrl ../../node_modules/.pnpm/vite@7.2.4_@types+node@20.19.25_jiti@2.6.1_lightningcss@1.30.2_yaml@2.8.1/node_modules/vite/dist/node/chunks/config.js:[2m27767:18[22m[39m
[90m [2mâ¯[22m ../../node_modules/.pnpm/vite@7.2.4_@types+node@20.19.25_jiti@2.6.1_lightningcss@1.30.2_yaml@2.8.1/node_modules/vite/dist/node/chunks/config.js:[2m27825:32[22m[39m
[90m [2mâ¯[22m TransformPluginContext.transform ../../node_modules/.pnpm/vite@7.2.4_@types+node@20.19.25_jiti@2.6.1_lightningcss@1.30.2_yaml@2.8.1/node_modules/vite/dist/node/chunks/config.js:[2m27793:4[22m[39m
[90m [2mâ¯[22m EnvironmentPluginContainer.transform ../../node_modules/.pnpm/vite@7.2.4_@types+node@20.19.25_jiti@2.6.1_lightningcss@1.30.2_yaml@2.8.1/node_modules/vite/dist/node/chunks/config.js:[2m29445:14[22m[39m
[90m [2mâ¯[22m loadAndTransform ../../node_modules/.pnpm/vite@7.2.4_@types+node@20.19.25_jiti@2.6.1_lightningcss@1.30.2_yaml@2.8.1/node_modules/vite/dist/node/chunks/config.js:[2m23316:26[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[2/3]â¯[22m[39m

[41m[1m FAIL [22m[49m src/components/ui/dialog.test.tsx[2m [ src/components/ui/dialog.test.tsx ][22m
[31m[1mError[22m: Failed to resolve import "@/lib/utils" from "src/components/ui/dialog.tsx". Does the file exist?[39m
  Plugin: [35mvite:import-analysis[39m
  File: [36m/Users/dunnock/projects/convergence-os/packages/ui/src/components/ui/dialog.tsx[39m:14:19
[33m  4  |  import * as DialogPrimitive from "@radix-ui/react-dialog";
  5  |  import { XIcon } from "lucide-react";
  6  |  import { cn } from "@/lib/utils";
     |                      ^
  7  |  function Dialog({
  8  |    ...props[39m
[90m [2mâ¯[22m TransformPluginContext._formatLog ../../node_modules/.pnpm/vite@7.2.4_@types+node@20.19.25_jiti@2.6.1_lightningcss@1.30.2_yaml@2.8.1/node_modules/vite/dist/node/chunks/config.js:[2m29647:43[22m[39m
[90m [2mâ¯[22m TransformPluginContext.error ../../node_modules/.pnpm/vite@7.2.4_@types+node@20.19.25_jiti@2.6.1_lightningcss@1.30.2_yaml@2.8.1/node_modules/vite/dist/node/chunks/config.js:[2m29644:14[22m[39m
[90m [2mâ¯[22m normalizeUrl ../../node_modules/.pnpm/vite@7.2.4_@types+node@20.19.25_jiti@2.6.1_lightningcss@1.30.2_yaml@2.8.1/node_modules/vite/dist/node/chunks/config.js:[2m27767:18[22m[39m
[90m [2mâ¯[22m ../../node_modules/.pnpm/vite@7.2.4_@types+node@20.19.25_jiti@2.6.1_lightningcss@1.30.2_yaml@2.8.1/node_modules/vite/dist/node/chunks/config.js:[2m27825:32[22m[39m
[90m [2mâ¯[22m TransformPluginContext.transform ../../node_modules/.pnpm/vite@7.2.4_@types+node@20.19.25_jiti@2.6.1_lightningcss@1.30.2_yaml@2.8.1/node_modules/vite/dist/node/chunks/config.js:[2m27793:4[22m[39m
[90m [2mâ¯[22m EnvironmentPluginContainer.transform ../../node_modules/.pnpm/vite@7.2.4_@types+node@20.19.25_jiti@2.6.1_lightningcss@1.30.2_yaml@2.8.1/node_modules/vite/dist/node/chunks/config.js:[2m29445:14[22m[39m
[90m [2mâ¯[22m loadAndTransform ../../node_modules/.pnpm/vite@7.2.4_@types+node@20.19.25_jiti@2.6.1_lightningcss@1.30.2_yaml@2.8.1/node_modules/vite/dist/node/chunks/config.js:[2m23316:26[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[3/3]â¯[22m[39m


[2m Test Files [22m [1m[31m3 failed[39m[22m[2m | [22m[1m[32m3 passed[39m[22m[90m (6)[39m
[2m      Tests [22m [1m[32m68 passed[39m[22m[90m (68)[39m
[2m   Start at [22m 18:13:35
[2m   Duration [22m 2.46s[2m (transform 486ms, setup 1.50s, collect 585ms, tests 2.34s, environment 2.44s, prepare 340ms)[22m

[?25h[41m[30mâ€‰ELIFECYCLEâ€‰[39m[49m [31mTest failed. See above for more details.[39m
